apiVersion: networking.gloo.solo.io/v2
kind: RouteTable
metadata:
  name: homer-howto
  namespace: homer-portal
  labels:
    homer: howto
spec:
  http:
    - name: howto-ui
      # Prefix matching
      matchers:
      - uri:
          exact: /howto/ui
      directResponse:
        body: |
          Gloo Mesh UI Walkthrough:
          - Review registered clusters
          - Review discovered Istio resources
          - Review Workspace concepts
            - Grouping of clusters/namespaces
            - Discovered services
            - Import/export relationships between workspaces
            - Workspace options (federation, service isolation, trimProxyConfig)
          - Review Virtual Gateway concepts
          - Review APIs tab (discovered Portal APIs and GraphQL APIs)
          - Review Portals tab 
          - Review Gloo Platform Policies
            - Access
            - Access Log
            - Active Health Check
            - Client TLS
            - Connection
            - CORS
            - CSRF
            - Data Loss Prevention
            - Ext Auth
            - Failover
            - Fault Injection
            - GraphQL Allowed Query
            - GraphQL Persisted Query Cache
            - Header Manipulation
            - HTTP Buffer
            - JWT
            - Listener Connection
            - Load Balancer
            - Mirror
            - Outlier Detection
            - Proxy Protocol
            - Rate Limit
            - Retry Timeout
            - Transformation
            - Trim Proxy Config
            - WAF
            - WASM Deployment
          - Review Debug tab 
        status: 200
    - name: howto-main
      matchers:
      - uri:
          prefix: /howto
      forwardTo:
        destinations:
          - ref:
              name: homer-portal-howto
              namespace: homer-portal
            port:
              number: 8080

waves:
  # core 
  - name: clusterconfig
    location: $env_path/../../core/mgmt/clusterconfig/base/active
    scripts:
      pre_deploy: 
      -  $env_path/../../core/mgmt/clusterconfig/init.sh
      post_deploy:
      -  $env_path/../../core/mgmt/clusterconfig/test.sh  
  - name: certmanager
    location: $env_path/../../core/shared-components/certmanager/base/active
    scripts:
      pre_deploy: 
      -  $env_path/../../core/shared-components/certmanager/init.sh
      post_deploy:
      -  $env_path/../../core/shared-components/certmanager/test.sh
  - name: gloo-platform
    location: $env_path/../../core/mgmt/gloo-platform/base/active
    scripts:
      pre_deploy: 
      -  $env_path/../../core/mgmt/gloo-platform/init.sh
      post_deploy:
      -  $env_path/../../core/mgmt/gloo-platform/test.sh    
  - name: istio
    location: $env_path/../../core/mgmt/istio/helm/base/active
    scripts:
      pre_deploy: 
      -  $env_path/../../core/mgmt/istio/helm/init.sh
      post_deploy:
      -  $env_path/../../core/mgmt/istio/helm/test.sh    
  - name: gloo-platform-config
    location: $env_path/../../core/mgmt/gloo-platform-config/wildcard/active
    scripts:
      pre_deploy: 
      -  $env_path/../../core/mgmt/gloo-platform-config/init.sh
      post_deploy:
      -  $env_path/../../core/mgmt/gloo-platform-config/test.sh
  # additional    
  #- name: online-boutique-config
  #  location: $env_path/online-boutique-config/wildcard/active
  #  scripts:
  #    pre_deploy: 
  #    -  $env_path/online-boutique-config/init.sh
  #    post_deploy:
  #    -  $env_path/online-boutique-config/test.sh 
  - name: homer-app
    location: $env_path/homer-app/localhost/active
    scripts:
      pre_deploy: 
      -  $env_path/homer-app/init.sh
      post_deploy:
      -  $env_path/homer-app/test.sh 
  - name: homer-config
    location: $env_path/../../core/shared-components/homer-config/base/active
    scripts:
      pre_deploy: 
      -  $env_path/../../core/shared-components/homer-config/init.sh
      post_deploy:
      -  $env_path/../../core/shared-components/homer-config/test.sh
  - name: httpbin-config
    location: $env_path/httpbin-portal/httpbin-config/base/active
    scripts:
      pre_deploy:
        -  $env_path/httpbin-portal/httpbin-config/init.sh
      post_deploy:
        - $env_path/httpbin-portal/httpbin-config/test.sh
  - name: httpbin-usage-plan-config
    location: $env_path/httpbin-portal/httpbin-usage-plans/base/active
    scripts:
      pre_deploy:
        -  $env_path/httpbin-portal/httpbin-usage-plans/init.sh
      post_deploy:
        - $env_path/httpbin-portal/httpbin-usage-plans/test.sh
  - name: httpbin-portal-app
    location: $env_path/httpbin-portal/portal-app/base/active
    scripts:
      pre_deploy:
        -  $env_path/httpbin-portal/portal-app/init.sh
      post_deploy:
        - $env_path/httpbin-portal/portal-app/test.sh
  - name: httpbin-portal-config
    location: $env_path/httpbin-portal/portal-config/base/active
    scripts:
      pre_deploy:
        -  $env_path/httpbin-portal/portal-config/init.sh
      post_deploy:
        - $env_path/httpbin-portal/portal-config/test.sh
apiVersion: gateway.gloo.solo.io/v1alpha1
kind: DirectResponse
metadata:
  name: howto-tiered-app-direct-response
  namespace: homer-portal
spec:
  status: 200
  body: |
    <!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Multicluster Tiered App Demo Walkthrough</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><style>body{font-family:Arial,sans-serif;margin:0;padding:0;overflow-x:hidden}.parallax-container{display:flex;align-items:center;justify-content:center;height:30vh;background:linear-gradient(45deg,#3498db,#9b59b6);color:#fff;text-align:center;position:relative}.parallax-content{z-index:2;padding:20px}.parallax-bg{position:absolute;width:100%;height:100%;z-index:1;opacity:.5}h1{font-size:36px;margin-bottom:20px}h2{font-size:24px;margin-bottom:10px}.note{background:rgba(255,255,255,.9);border-radius:8px;padding:20px;margin:20px 0;box-shadow:0 4px 8px rgba(0,0,0,.1);transition:transform .3s}.note:hover{transform:scale(1.03)}.highlight{color:#3498db;font-weight:bold}.icon{font-size:32px;margin-right:10px;color:#3498db}</style></head><body><div class="parallax-container"><div class="parallax-bg"></div><div class="parallax-content"><h1>Multicluster Tiered App Demo Walkthrough</h1></div></div><div class="parallax-content"><div class="note"><h2><i class="icon fab fa-connectdevelop"></i><span class="highlight">Description:</span></h2><p>This demo shows a tiered app across `glooplatform-central` and `glooplatform-east`. The central cluster holds the core app, while the east cluster extends the core app with extra features over mTLS. This architecture supports phased migration and flexible app deployments.</p><ol><li>Select the Tiered Mesh Application tile to view the `/ns-1/ui` endpoint or use `/ns-1` for direct API output</li><li>Explore other namespaces by switching between `/ns-1` and `/ns-4` endpoints</li><li>Select the Tiered Mesh Application - Gloo UI tile to open the Gloo Mesh UI service graph</li><li>The service graph shows the core app in the central region and the extended app in the east region</li><li>Navigate to the strangler-pattern service at `/east/ns-1-ui` to see the extended app in the east region cluster</li><li>The strangler-pattern service interacts with services in both regions. This is visualized by the arrow from `strangler-pattern` to `throbbing-field` in the graph</li><li>Discuss advantages of migration and flexibility for developers</li></ol></div></div><script>window.addEventListener('scroll',function(){document.querySelector('.parallax-bg').style.transform='translateY('+window.scrollY*.5+'px)'});</script></body></html>

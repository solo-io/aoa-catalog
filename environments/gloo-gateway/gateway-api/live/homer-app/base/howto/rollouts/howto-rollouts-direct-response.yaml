apiVersion: gateway.gloo.solo.io/v1alpha1
kind: DirectResponse
metadata:
  name: howto-rollouts-direct-response
  namespace: homer-portal
spec:
  status: 200
  body: |
    <!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Argo Rollouts Demo Walkthrough</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><style>body{font-family:Arial,sans-serif;margin:0;padding:0;overflow-x:hidden}.parallax-container{display:flex;align-items:center;justify-content:center;height:30vh;background:linear-gradient(45deg,#3498db,#9b59b6);color:#fff;text-align:center;position:relative}.parallax-content{z-index:2;padding:20px}.parallax-bg{position:absolute;width:100%;height:100%;z-index:1;opacity:.5}h1{font-size:36px;margin-bottom:20px}h2{font-size:24px;margin-bottom:10px}.note{background:rgba(255,255,255,.9);border-radius:8px;padding:20px;margin:20px 0;box-shadow:0 4px 8px rgba(0,0,0,.1);transition:transform .3s}.note:hover{transform:scale(1.03)}.highlight{color:#3498db;font-weight:bold}.icon{font-size:32px;margin-right:10px;color:#3498db}</style></head><body><div class="parallax-container"><div class="parallax-bg"></div><div class="parallax-content"><h1>Argo Rollouts Demo Walkthrough</h1></div></div><div class="parallax-content"><div class="note"><h2><i class="icon fab fa-git-alt"></i><span class="highlight">Gloo Mesh Argo Rollouts Plugin:</span></h2><p>Solo.io integrates Argo Rollouts with Gloo Mesh for smooth app transitions, enabling strategies like canary releases and blue-green deployments.</p><p><span class="highlight">More info:</span> <a href="https://github.com/ably77/gloo-platform-argo-rollouts-blog" target="_blank">Read more</a></p></div><div class="note"><h2><i class="icon fas fa-rocket"></i><span class="highlight">Progressive Delivery Demo:</span></h2><ol><li>Open Argo Rollouts Demo Dashboard and App</li><li>Select rollouts-demo tile</li><li>Change the image tag (e.g., green to blue) in Containers tile and save</li><li>Watch new version being deployed in the app</li><li>Track progress in the left sidebar</li><li>See the new version deployed</li></ol></div><div class="note"><h2><i class="icon fas fa-undo"></i><span class="highlight">Rollback Demo:</span></h2><ol><li>Change the image tag to a `bad-` version (e.g., `bad-yellow`)</li><li>Observe errors in the app (yellow squares with red borders)</li><li>Argo Rollouts detects errors and rolls back</li><li>Check the AnalysisTemplate for details</li><li>Reset demo with a stable version (e.g., `blue`)</li></ol></div><div class="note"><h2><i class="icon fab fa-git-alt"></i><span class="highlight">Argo CD UI:</span></h2><p>Argo CD and Argo Rollouts can be integrated for GitOps and UI management.</p><ol><li>Search for `wave-rollouts-demo-aoa` in Argo CD UI</li><li>Watch rollout steps and new pod deployments</li><li>Check RouteTable tile for traffic weights</li><li>View rollout manifest in the Rollouts tile</li><li>See the integrated Argo Rollouts Demo Dashboard in the more tab</li></ol></div></div><script>window.addEventListener('scroll',function(){document.querySelector('.parallax-bg').style.transform='translateY('+window.scrollY*.5+'px)'});</script></body></html>
